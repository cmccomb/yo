#!/usr/bin/env zsh

# Check to see if homebrew is installed and install it if it is not
if ! command -v brew &>/dev/null; then
	echo "Homebrew not found. Installing Homebrew..."
	NONINTERACTIVE=1 /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
	echo "Homebrew installation complete."
else
	echo "Homebrew is already installed."
fi

# Check to see if llama-cli is installed and install it if it is not
if ! command -v llama-cli &>/dev/null; then
	echo "llama-cli not found. Installing llama.cpp..."
	brew install llama.cpp
	echo "llama.cpp installation complete."
else
	echo "llama-cli is already installed."
fi

# Check to see if pandoc is installed and install it if it is not
if ! command -v pandoc &>/dev/null; then
	echo "Pandoc not found. Installing Pandoc..."
	brew install pandoc
	echo "Pandoc installation complete."
else
	echo "Pandoc is already installed."
fi

# Check to see if pdftotext is installed and install it if it is not
if ! command -v pdftotext &>/dev/null; then
	echo "pdftotext not found. Installing poppler..."
	brew install poppler
	echo "poppler installation complete."
else
	echo "pdftotext is already installed."
fi

# Check to see if gdate is install and install it if it is not
if ! command -v gdate &>/dev/null; then
  echo "gdate not found. Installing coreutils..."
  brew install coreutils
  echo "coreutils installation complete."
else
  echo "gdate is already installed."
fi

# Download the latest version of yo
echo "Downloading the latest version of yo..."
curl -s https://www.cmccomb.com/yo/src > /tmp/yo
chmod +x /tmp/yo
sudo mv /tmp/yo /usr/local/bin/yo